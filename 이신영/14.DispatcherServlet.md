## DispatcherServlet 의 역할에 대해 설명해 주세요.

DispatcherServlet은 Spring MVC의 핵심 구성 요소로서, 클라이언트로부터 들어오는 모든 HTTP 요청을 중앙에서 처리하는 역할을 합니다. 이 역할에는 요청을 수신하고, URL에 따라 적절한 핸들러를 찾아 핸들러 어댑터를 호출한 후, 뷰 리졸버를 통해 실제 렌더링할 뷰를 찾아 모델 데이터를 사용하여 클라이언트에 반환하는 과정이 포함됩니다.

먼저, 클라이언트로부터 HTTP 요청을 수신한 DispatcherServlet은 요청 URL을 분석하여 해당 요청을 처리할 핸들러를 결정합니다. 이때 핸들러 매핑을 사용하여 요청 URL과 매핑된 컨트롤러 메서드를 찾습니다. 핸들러가 결정되면, 이를 실행하기 위해 적절한 핸들러 어댑터를 선택합니다. 핸들러 어댑터는 핸들러를 실행하여 비즈니스 로직을 수행하고, 결과를 모델 객체에 담습니다.

다음으로, DispatcherServlet은 뷰 리졸버를 사용하여 논리적인 뷰 이름을 실제 뷰로 변환합니다. 뷰 리졸버는 비즈니스 로직의 결과를 렌더링할 뷰를 결정하고, 모델 데이터를 뷰에 전달하여 최종적으로 클라이언트에게 완성된 HTML 등의 응답을 반환합니다.

![image](https://github.com/user-attachments/assets/8f089f1b-07fd-4d34-98c2-9f0fc4a22e4e)

### 여러 요청이 들어온다고 가정할 때, DispatcherServlet은 한번에 여러 요청을 모두 받을 수 있나요?

DispatcherServlet은 멀티스레딩을 지원하여 동시에 여러 요청을 처리할 수 있습니다. 각 요청에 대해 별도의 스레드를 할당하여 독립적으로 처리함으로써, 동시성 처리를 통해 높은 성능을 유지합니다. 이로 인해 여러 요청이 동시에 들어오더라도 각 요청은 서로 간섭하지 않고 처리될 수 있습니다.

![image](https://github.com/user-attachments/assets/2f5e97a3-d3e3-41f0-921d-d08e58c84004)


### 수많은 @Controller 를 DispatcherServlet은 어떻게 구분 할까요?

DispatcherServlet은 핸들러 매핑을 통해 각 요청 URL에 대해 어떤 컨트롤러와 메서드가 처리해야 하는지를 결정합니다. 이를 위해 Spring은 다양한 핸들러 매핑 전략을 제공하며, 가장 일반적으로 사용되는 방식은 URL 매핑 애노테이션을 사용하는 것입니다.

애플리케이션이 시작될 때, Spring 컨테이너는 모든 @Controller와 @RequestMapping 애노테이션을 스캔하여 매핑 정보를 수집합니다. 이 매핑 정보는 DispatcherServlet 내에 캐싱되며, 요청이 들어올 때마다 DispatcherServlet은 이 매핑 정보를 참조하여 적절한 컨트롤러와 메서드를 찾아 실행합니다.

예를 들어, /home 요청이 들어오면 DispatcherServlet은 캐싱된 매핑 정보를 기반으로 @RequestMapping("/home")으로 지정된 메서드를 찾아 호출합니다. 이렇게 초기화 시 매핑 정보를 캐싱해두고, 요청 시 이를 참조함으로써 빠르고 효율적인 요청 처리가 가능합니다.

결론적으로, DispatcherServlet은 멀티스레딩을 통해 동시에 여러 요청을 처리할 수 있으며, 핸들러 매핑을 통해 각 요청을 적절한 @Controller와 메서드에 매핑하여 처리합니다. 이를 통해 애플리케이션의 유연성과 확장성을 높이고, 효율적인 요청 처리를 가능하게 합니다.

### 추가 질문

- 왜 디스패처서블릿은 프론트컨트롤러패턴과 어댑터패턴을 채용했을까?

프론트컨트롤러패턴 : 다양한 요청마다 개별 서블릿을 작성하고 관리하는 것이 비효율적이고 중복 코드가 발생해서 DispatcherServlet에서 중앙집중 처리하도록 함
어댑터패턴 : 다양한 형태의 핸들러를 지원하기위해 핸들러 어댑터로 각 핸들러에 맞는 어댑터를 사용하여 인터페이스 호환성을 제공 즉, 결합도 낮추기 좋음

### 참고하기 좋은 내용

디스패처서블릿이 만들어진 과정
https://creampuffy.tistory.com/172
