## JVM이 정확히 무엇이고, 어떤 기능을 하는지 설명해 주세요.

JVM이란 자바 컴파일러로 생성된 바이트코드(\*.class)를 기계어로 번역하여 OS에 전달하는 가상머신입니다.
또한 가비지 컬렉션을 통해 최적으로 메모리를 관리 해줍니다.

## 꼬리질문

### 그럼, 자바 말고 다른 언어는 JVM 위에 올릴 수 없나요?

아닙니다. JVM위에 올릴 수 있는 언어를 JVM계열 언어라고 하는데, 대표적으로 Scala, Groovy, Kotlin이 JVM계열 언어입니다. 그 외에 Jython, JRuby 등이 있습니다.

JVM 위에서 실행되므로 JAVA의 표준 라이브러리를 사용할 수 있고, JVM이 제공하는 JIT 컴파일러, 메모리 최적화 등의 기능을 이용할 수 있습니다.

### 반대로 JVM 계열 언어를 일반적으로 컴파일해서 사용할 순 없나요?

사용가능합니다. JVM을 거치지 않고 바로 기계어로 컴파일링하는 방법도 존재합니다.
대표적으로 GraalVM의 AOT 네이티브 이비지 컴파일러를 사용하여 기계어로 이루어진 코드를 만들 수 있습니다. JVM을 거치지 않기 때문에 시동시간이 급격히 빨라집니다.

### VM을 사용함으로써 얻을 수 있는 장점과 단점에 대해 설명해 주세요.

### 장점

-   이식성이 높다
    -   운영체제에서 실행되기 전에 JVM을 거치므로 개발하는데에 있어 OS에 종속적이지 않습니다.
-   메모리를 관리해준다.
    -   가비지 컬렉션을 통해 메모리 할당과 해제를 JVM이 관리해주므로 개발자의 실수로 인한 메모리 누수를 예방할 수 있습니다.
-   보안이 우수하다.
    -   JVM이 바이트코드를 기계어로 변환하기 전에 바이트코드가 유효한지 바이트코드 검증을 거칩니다. 이 과정에서 메모리침범, 오버플로우, 잘못된 형변환 등 잠재적인 보안 취약점을 사전에 방지할 수 있습니다.

### 단점

-   느린 실행시간
    -   JVM은 바이트코드를 기계어로 변환하는 과정에서 한줄씩 변환하는 인터프리팅을 진행하는데 이는 실행시간이 비교적 느립니다. 이를 개선하기 위해 JIT (Just In Time) 컴파일러를 사용합니다. 이는 자주 사용하는 특정 메소드나 클래스를 컴파일하여 기계어로 변환하여 속도를 개선 했습니다. 그럼에도 느립니다..
-   느린 시작시간
    -   JVM은 초기화 및 클래스 로딩 작업이 필요하므로, 프로그램의 시작 시간이 상대적으로 오래 걸립니다.
-   메모리 사용량
    -   JVM자체의 오버헤드가 크고 가비지 컬렉션이 돌아갈 때 차지하는 메모리도 크므로 메모리 자원이 제한적일 때 큰 부담이 될 수 있습니다.

### JVM과 내부에서 실행되고 있는 프로그램은 부모 프로세스 - 자식 프로세스 관계를 갖고 있다고 봐도 무방한가요?

아닙니다. OS입장에서 JVM은 독립적인 프로세스 단위로 실행이 되며, JVM안에서 실행되는 Java 프로그램은 JVM 프로세스 내의 스레드로 실행됩니다. 이를 애플리케이션 스레드, 또는 Main 스레드 라고도 합니다.

애플리케이션 스레드외에도 JVM 내부에서 동작하는 가비지 컬렉션 스레드, JLT컴파일러 스레드, 클래스 로더 스레드 등이 있습니다.
