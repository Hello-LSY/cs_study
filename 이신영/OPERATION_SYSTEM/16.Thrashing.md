## **Thrashing이란 무엇인가요?**  
![image](https://github.com/user-attachments/assets/090c530d-0efb-4998-a277-2019d0bc7b1e)


Thrashing은 **가상 메모리 시스템**에서 페이지 부재(Page Fault)가 과도하게 발생하여 CPU가 실제 작업을 수행하기보다는 페이지 교체에만 대부분의 시간을 소비하는 현상을 의미한다.  
- **원인**:  
  - 프로세스에 필요한 메모리보다 가용 메모리가 부족할 때 발생한다.  
  - 과도한 멀티태스킹, 과도하게 작은 페이지 프레임 수 등이 주요 원인이다.  
- **결과**:  
  - 시스템 성능이 급격히 저하되고 응답 시간이 길어진다.  

---


## **Thrashing 발생 시, 어떻게 완화할 수 있을까요?**

Thrashing을 효과적으로 완화하기 위해서는 메모리와 프로세스 관리 정책을 최적화해야 한다. 

### **1. 워킹 셋 관리**  
Thrashing 완화에서 가장 중요한 것은 **워킹 셋(Working Set)** 을 관리하는 것이다. 워킹 셋은 프로세스가 일정 시간 동안 자주 참조하는 페이지들의 집합으로, 이를 메모리에 유지하면 Thrashing을 줄일 수 있다.  
- **방법**:  
  - 워킹 셋 모델을 사용하여 필요한 페이지들이 메모리에 유지되도록 한다.  
  - 페이지 부재율을 기반으로 프레임 수를 조정하여 워킹 셋 크기를 보장한다.  
- **효과**:  
  - 프로세스의 메모리 요구량을 충족시키고, 페이지 교체 빈도를 줄여 Thrashing 발생을 예방한다.



### **2. 프로세스 수 줄이기**  
메모리 부족 시, 실행 중인 프로세스 수를 줄여 각 프로세스가 사용할 수 있는 프레임 수를 확보해야 한다.  
- **방법**:  
  - 우선순위가 낮은 프로세스를 Swap Out하거나 일시 중단시킨다.  
  - 중요도가 높은 프로세스를 유지하면서 메모리 사용을 최적화한다.  
- **효과**:  
  - 메모리 리소스를 확보하여 각 프로세스가 필요한 최소한의 프레임을 보장할 수 있다.


### **3. 페이지 교체 알고리즘 최적화**  
효율적인 페이지 교체 알고리즘을 사용하여 페이지 부재율을 최소화할 수 있다.  
- **방법**:  
  - **LRU (Least Recently Used)**: 가장 오랫동안 사용되지 않은 페이지를 교체하여 Thrashing을 줄인다.  
  - **Clock 알고리즘**: LRU를 효율적으로 구현한 방식으로, 페이지 교체 비용을 낮춘다.  
- **효과**:  
  - 적절한 페이지 교체를 통해 시스템 성능과 메모리 효율을 향상시킨다.


### **4. 가상 메모리 크기 조정**  
메모리 부족으로 인한 Thrashing을 줄이기 위해 가상 메모리 크기를 조정하거나 물리 메모리를 증설해야 한다.  
- **방법**:  
  - 가상 메모리 크기를 늘려 페이지 교체가 자주 발생하지 않도록 설정한다.  
  - 물리 메모리(RAM)를 증설하여 가상 메모리 의존도를 줄인다.  
- **효과**:  
  - 메모리 부족 문제를 해결하여 Thrashing 가능성을 감소시킨다.


### **5. I/O 성능 개선**  
페이지 교체와 관련된 디스크 I/O 병목을 줄여 Thrashing의 부작용을 완화할 수 있다.  
- **방법**:  
  - SSD와 같은 빠른 스토리지를 사용하여 페이지 교체 속도를 높인다.  
  - 캐시 디스크나 파일 시스템 최적화를 통해 페이지 부재 처리 속도를 개선한다.  
- **효과**:  
  - 페이지 교체 속도를 개선해 Thrashing으로 인한 응답 지연을 줄인다.
