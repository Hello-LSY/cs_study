## **Tomcat이 정확히 어떤 역할을 하는 도구인가요?**

톰캣은 웹서버와 서블릿 컨테이너로 구성되어 있는 웹 어플리케이션 서버입니다.

Http 요청이 들어왔을 때 정적자원에 대한 요청이라면 웹서버에서 정적인 html페이지를 찾아 제공합니다.

만약 동적인 자원에 대한 요청인 경우 웹 서버는 CGI 프로그램 (서블릿 컨테이너)에게 요청을 전달해주고, 결과를 전달받기 위한 파이프라인을 연결합니다.

Http Sevlet Request와 HTTP Servlet Response 객체를 만든 후

web.xml을 기반으로 사용자가 요청한 url이 어느 서블릿에 대한 요청인지 찾습니다.

Http Request, Http REsponse객체를 매개변수로 받아 요청을 처리한 후

Response 객체의 GetPrinter를 통해 프린터를 사용하여 html코드를 작성합니다.

서블릿

-   자바코드 안에 html문서를 작성함

JSP

-   html문서 안에 자바코드를 삽입함.

## 꼬리질문

### 혹시 Netty에 대해 들어보셨나요? 왜 이런 것을 사용할까요?

동기식 서버와 비동기식 서버를 물어보는 질문인 것 같아요.

톰캣은 주로 블로킹, 동기 방식을 사용하고 요청이오면 Request하나 당 스레드풀에서 스레드를 하나 할당 받아 요청이 처리됩니다. 즉 스레드풀에 있는 스레드보다 많은 요청을 처리할 수 없다는 의미입니다.

하지만 Netty는 비동기 방식과 이벤트 루프(Event Loop) 구조를 사용하여 높은 성능을 유지합니다.

Netty는 비동기 이벤트 기반 아키텍처를 사용합니다. 네트워크 이벤트(데이터 수신, 연결 요청 등)가 발생할 때, 이벤트 루프가 이를 감지하고 적절히 처리합니다. 이벤트라는 작은 구조로 나눠 요청을 처리하는 워커 스레드를 분할하여 동작합니다.

카페에 직원들이 있다고 가정하자.

톰캣:

한 직원이

주문을 받고 → 커피를 만들고 → 진동벨을 울리고 → 손님을 호출한다.

직원의 수 → 스레드 풀에 있는 스레드 수

네티:

주문을 받는 직원 한명

커피 만드는 직원 한명

진동벨 울리는 직원 한명

손님을 호출하는 직원 한명
